CONFIGURE SERVER
=========

Запуск роли __configure_server__ с помощью vagrant:
---
В корне репозитория (там где находится Vagrantfile) запустите следующую команду, она развернёт одну ВМ с внутренним сетевым интерфейсом и NAT., автоматически установит на него роль и выполнит тест с помощью testinfra:
```bash
vagrant --pass-var='{"run_pytest":"false","ansible_role_name":"configure_server"}' up --provision && vagrant ssh-config > .vagrant/ssh-config && py.test --hosts=default --ssh-config=.vagrant/ssh-config tests/configure_server/tests.py
```

Уничтожьте созданную инфраструктуру с помощью команду:
```WSL
vagrant destroy -f
```

Задание
---

1.	Разработать роль, которая на конечном сервере производит конфигурирование конечного сервера.
2.	Роль включает в себя следующие задачи (tasks), выполняемые последовательно: 
  a.	Создание 3-х локальных учетных записей пользователей, пользователи должны создаваться с использованием цикла;
  b.	Выдать созданным ранее пользователям права sudo, без запроса пароля;
  c.	У каждого пользователя в переменном окружении создать переменную, которая выводит имя пользователя;
  d.	Из-под каждого пользователя, средствами Ansible, создать в домашнем каталоге пользователя текстовый файл, который выводит hostname и user используя переменные окружения;
  e.	Создать новую дополнительную группу в ОС Linux;
  f.	Добавить пользователей в новую созданную ранее группу;
  g.	Создать в /etc/tets_shell каталог в котором full-права получают пользователи, находящиеся в созданной ранее группе;
  h.	Создать bash-скрипт, используя jinja-шаблон, который изменит пароли у созданных ранее пользователей, пароль в чистом виде использовать нельзя, предполагается использование секретов или hash;
  i.	Выполнить bash-скрипт из-под пользователя root;
  j.	Средствами Ansible, регулярным выражением, сделать созданным ранее пользователям запрет на подключение по ssh;
  k.	Провести полную очистку настроенных ранее действий, рекомендуется вызывать задачу используя теги, т.е. по умолчанию задача не выполняется.
  l.	Каждый пункт должен быть реализован отдельной задачей в одном плейбуке, установку выполнить на группе серверов, указанных в файле инвентаризации.

